<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Pushpak Dagade (pushpak@algobulls.com)" /><link rel="canonical" href="https://algobulls.github.io/pyalgotrading/pyalgotrad/structure/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Code Structure of a Strategy - pyalgotrading</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../../css/timeago.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Code Structure of a Strategy";
        var mkdocs_page_input_path = "pyalgotrad/structure.md";
        var mkdocs_page_url = "/pyalgotrading/pyalgotrad/structure/";
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-147658856-4', 'auto');
        ga('send', 'pageview');
      </script>
    
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> pyalgotrading
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Pyalgotrading</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Index</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Tutorial</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../introduction/">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../prerequisites/">Prerequisites</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Code Structure of a Strategy</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#previously">Previously...</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#now">Now...</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#lets-start">Let's Start...</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#supporting-methods">Supporting Methods</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#utility-functions">Utility Functions</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#flowchart">Flowchart</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#whats-next">What's Next...</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Hands On</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../programexample/">Create your Strategy</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../upload/">Upload your Strategy</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../testing/">Test your Strategy</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../codeguide/">Strategy Coding Guidelines</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Python Build</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../python_build/">Index</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Introduction</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../../python_build/python-build-introduction">Introduction</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../python_build/python-build-overview/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../python_build/python-build-getstarted">Get Started</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Code</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../python_build/python-build-code-ready-templates/">Code Ready Templates</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../python_build/python-build-code-new/">Code New Strategy</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../python_build/python-build-config-parameters/">Configure Parameters</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Features</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../python_build/python-build-view-results/">View Results</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Strategies</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../strategies/">Index</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">General Strategy Guide</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/common_regular_strategy/">Regular Strategy</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/common_options_strategy/">Options Strategy</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Regular Strategy Guide</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/aroon_crossover/">Aroon Crossover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/bollinger_bands/">Bollinger Bands</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/ema_crossover/">EMA Crossover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/inverse_ema_scalping/">Inverse EMA Scalping</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/reverse_rsi/">Reverse RSI</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/stochastic_crossover/">Stochastic Crossover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/vwap_crossover/">VWAP Crossover</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Options Strategy Guide</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_bear_call_ladder/">Options Bear Call Ladder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_bear_put_ladder/">Options Bear Put Ladder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_bull_call_ladder/">Options Bull Call Ladder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_bull_put_ladder/">Options Bull Put Ladder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_long_iron_butterfly/">Options Long Iron Butterfly</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_straddle/">Options Straddle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../strategies/options_strangle/">Options Strangle</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">pyalgotrading</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Pyalgotrading &raquo;</li>
          <li>Tutorial &raquo;</li>
      <li>Code Structure of a Strategy</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/algobulls/pyalgotrading/edit/master/docs/pyalgotrad/structure.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="code-structure-of-strategy">Code Structure of Strategy<a class="headerlink" href="#code-structure-of-strategy" title="Permanent link">&para;</a></h1>
<hr />
<h3 id="previously"><strong>Previously...</strong><a class="headerlink" href="#previously" title="Permanent link">&para;</a></h3>
<p>You now have the necessary prerequisites installed and ready.</p>
<hr />
<h3 id="now"><strong>Now...</strong><a class="headerlink" href="#now" title="Permanent link">&para;</a></h3>
<p>This page describes the methods you will use to create your strategy.</p>
<hr />
<h3 id="lets-start"><strong>Let's Start...</strong><a class="headerlink" href="#lets-start" title="Permanent link">&para;</a></h3>
<p>You have the following methods.</p>
<hr />
<h4 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h4>
<ol>
<li><code>strategy_select_instruments_for_entry()</code> - You may want to run your strategy for multiple instruments. When you pass those instruments to the strategy, 
the backend core calls this method for each instrument one by one, every candle time. This allows you to write decision-making code for each instrument, 
allowing you to decide whether an order is to be punched for that particular instrument or not.</li>
<li><code>strategy_enter_position()</code> - You can now punch your order in this method for each instrument that you have selected for entry in the previous method.</li>
<li><code>strategy_select_instruments_for_exit()</code> - Once a position is entered for a particular instrument, the backend core calls this method for those 
instruments one by one, every candle time. This allows you to write decision-making code for each instrument, allowing you to decide whether that 
particular instrument is to be exited or not.</li>
<li><code>strategy_exit_position()</code> - You can now exit positions in this method for each instrument that you have selected for exit in the previous method.</li>
</ol>
<hr />
<h4 id="supporting-methods">Supporting Methods<a class="headerlink" href="#supporting-methods" title="Permanent link">&para;</a></h4>
<p>You have the following supporting methods:</p>
<ol>
<li><code>__init__()</code> - This is the constructor method used in every strategy. You can perform sanity checks here for each parameter passed as an argument to the strategy.
You can also declare the set of variables that you may need for your strategy.   </li>
<li><code>initialize()</code> - This method is called every time the strategy starts for the first time as well as the start of every trading day. 
You may set initial values for the set of variables that you have declared in the previous method. </li>
<li><code>name()</code> - This method sets a unique name for your strategy.</li>
<li><code>versions_supported()</code> - This method sets the version of AlgoBulls Platform on which this strategy is certified tested successfully by you.</li>
</ol>
<hr />
<h4 id="utility-functions">Utility Functions<a class="headerlink" href="#utility-functions" title="Permanent link">&para;</a></h4>
<p>You have the following utility function to be used in this strategy :</p>
<ol>
<li><code>get_crossover_value()</code> - A utility method available which calculates the crossover value. </li>
</ol>
<hr />
<div class="admonition links">
<p class="admonition-title">Links</p>
<ul>
<li><strong><a href="../../strategies/common_regular_strategy/">Strategy Structure (regular)</a></strong></li>
<li><strong><a href="../../strategies/common_options_strategy/">Strategy Structure (options)</a></strong></li>
<li><strong><a href="../../strategies/">List of Strategies</a></strong></li>
</ul>
</div>
<hr />
<h4 id="flowchart">Flowchart<a class="headerlink" href="#flowchart" title="Permanent link">&para;</a></h4>
<p>Once you create your own strategy or use a ready strategy from the <a href="https://github.com/algobulls/pyalgostrategypool">pyalgostrategypool</a> package, this is how it works internally on the AlgoBulls Core Trading Engine.</p>
<p><img alt="Flowchart" src="../flowchart.png" title="How does a Strategy work" /></p>
<hr />
<h3 id="whats-next"><strong>What's Next...</strong><a class="headerlink" href="#whats-next" title="Permanent link">&para;</a></h3>
<p>Next, you code the actual strategy taken as an example in this tutorial. Alternatively, you can pick up a ready strategy and directly <a href="../upload/">upload</a> it.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../prerequisites/" class="btn btn-neutral float-left" title="Prerequisites"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../programexample/" class="btn btn-neutral float-right" title="Create your Strategy">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright © 2020 | All Rights Reserved | AlgoBulls Technologies Private Limited</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/algobulls/pyalgotrading" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../prerequisites/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../programexample/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../js/timeago.min.js" defer></script>
      <script src="../../js/timeago_mkdocs_material.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
